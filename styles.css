/* Trias Training Timer â€” 16:9, clean UI */
:root{
  --bg:#000;
  --panel:#0a0a0a;
  --stroke:#171717;
  --ink:#e4e6ea;
  --muted:#9aa0ad;
  --accent:#ff2e2e;      /* red for Oefening/Rust */
  --accent-blue:#89d8ff; /* light blue for Overgang */
  --digit-h: clamp(200px, 46vmin, 62vmin);
  --gap: clamp(12px, 4.2vmin, 36px);
}

*{box-sizing:border-box}
html,body{height:100%}
body{ margin:0; font-family:'Archivo', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--ink); background:var(--bg); }
[hidden]{ display:none !important; }

.stage{ width:100vw; height:100vh; display:grid; place-items:center; }
.shell{
  aspect-ratio:16/9;
  height:min(100vh, calc(100vw * 9 / 16));
  width:min(100vw, calc(100vh * 16 / 9));
  display:grid; grid-template-rows: auto 1fr auto;
  gap:12px; padding:16px;
}

.panel{
  background:linear-gradient(180deg, rgba(255,255,255,.02), transparent 40%);
  border:1px solid var(--stroke);
  border-radius:12px;
  padding:12px;
}

.topbar{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.brand{ display:flex; flex-direction:column; line-height:1.0; }
.app-title{ margin:0; font-size:20px; letter-spacing:.4px; }
.app-sub{ margin-top:4px; font-size:12px; color:#9aa0ad; letter-spacing:.06em; text-transform:lowercase; }
.top-actions{ display:flex; gap:10px; align-items:center; }
.switch{ display:flex; align-items:center; gap:6px; padding:6px 8px; background:#0a0a0a; border:1px solid #171717; border-radius:10px; font-size:13px;}
.switch.small{ padding:4px 6px; }

.iconbtn{ background:#0f0f0f; border:1px solid #202020; border-radius:10px; height:40px; width:40px; cursor:pointer; }
.iconbtn.gear{ font-size:20px; }

/* Display */
.display{ display:grid; gap:10px; align-content:center; justify-items:center; text-align:center; }
.now-line{ display:flex; align-items:center; gap:8px; }
.now-label{ font-weight:900; font-size: clamp(22px, 6vmin, 54px); letter-spacing:.2px; }

.screen{
  height:100%; width:100%;
  display:flex; align-items:center; justify-content:center;
  gap: var(--gap);
  padding: clamp(8px, 3vmin, 24px);
  background:#000;
  border-radius:10px;
}
.digit{ height: var(--digit-h); width:auto; shape-rendering: crispEdges; image-rendering: pixelated; }
.segment{ fill: #1a0303; transition: fill .06s linear; }
body.transition-mode .segment.lit{ fill: var(--accent-blue); }
.segment.lit{ fill: var(--accent); }
.separator{ display:grid; place-items:center; }
.sep-colon{ display:grid; gap: clamp(14px, 5vmin, 44px); }
.sep-circle{
  width: clamp(18px, 5.8vmin, 42px);
  height: clamp(18px, 5.8vmin, 42px);
  border-radius:50%; background: currentColor;
  color: var(--accent);
}
body.transition-mode .sep-circle{ color: var(--accent-blue); }

.progress-wrap{ width:100%; height:12px; background:#0f0f10; border-radius:99px; overflow:hidden; border:1px solid #1a1a1a;}
.progress{ height:100%; width:0%; background:linear-gradient(90deg, #ff2e2e, #ff6b6b); }
body.transition-mode .progress{ background:linear-gradient(90deg, #89d8ff, #c7ecff); }

.next-line{ color:var(--muted); font-size:14px; }

/* Controls */
.controls .group{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; justify-content:center; }
.btn{
  appearance:none; border:none; background:#0b0b0b; color:#e8e8e8;
  padding:10px 14px; font-weight:700; border-radius:10px; border:1px solid #191919; cursor:pointer;
}
.btn.primary{ background:#141414; border-color:#282828; }
.btn.ghost{ background:transparent; }
.btn.small{ padding:8px 10px; font-size:13px; }

/* Modal */
.modal-backdrop{
  position:fixed; inset:0; background: rgba(0,0,0,.6); backdrop-filter: blur(2px); z-index:30;
}
.modal{
  position:fixed; inset:0; display:grid; place-items:center; z-index:31;
}
.modal-card{
  width:min(1000px, 90vw);
  max-height:80vh;
  display:grid; grid-template-rows: auto 1fr auto;
  background:#0a0a0a; border:1px solid #202020; border-radius:16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.6);
}
.modal-head, .modal-foot{ padding:12px; display:flex; gap:12px; align-items:center; }
.modal-head{ justify-content:space-between; border-bottom:1px solid #1a1a1a; }
.modal-foot{ border-top:1px solid #1a1a1a; }
.grow{ flex:1; }

.list{ list-style:none; margin:0; padding:12px; display:grid; gap:8px; overflow:auto; }
.row{
  display:grid; grid-template-columns: 120px 1fr 120px 120px 40px;
  gap:10px; align-items:center; padding:10px; border:1px solid #191919; border-radius:10px; background:#090909;
}
.row .type-select{ width:100%; padding:10px; background:#0a0a0a; border:1px solid #1a1a1a; border-radius:10px; color:#e8e8e8; font-weight:700; }
.row input[type="text"]{ width:100%; padding:10px 10px; background:#0a0a0a; border:1px solid #1a1a1a; border-radius:10px; color:#e8e8e8; font-weight:700; }
.row input[type="number"]{ width:100%; padding:10px 10px; background:#0a0a0a; border:1px solid #1a1a1a; border-radius:10px; color:#e8e8e8; font-weight:700; }
.row .iconbtn{ background:#0f0f0f; border:1px solid #202020; border-radius:8px; height:36px; width:36px; cursor:pointer; }
.row .iconbtn:hover{ filter:brightness(1.15); }
